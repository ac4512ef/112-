<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CHESS — Intro</title>
<meta name="description" content="Animated chess intro page — responsive, single-file." />
<style>
  :root{
    --bg-1:#0a0b10;
    --bg-2:#0e1220;
    --accent:#00d0ff;        /* neon cyan */
    --accent-2:#ff4df2;      /* neon magenta */
    --gold:#c9a04f;          /* premium gold */
    --gold-2:#f8d37c;
    --white:#f5f7ff;
    --black:#0c0f17;
    --shade:#131828;
  }
  @media (prefers-color-scheme: light){
    :root{
      --bg-1:#f4f7ff;
      --bg-2:#e8eefc;
      --accent:#007bff;
      --accent-2:#9a2cff;
      --black:#121212;
      --white:#ffffff;
      --shade:#dfe6fb;
    }
  }
  /* Reset / base */
  *{box-sizing:border-box}
  html,body{height:100%;}
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    background: radial-gradient(1200px 800px at 50% 120%, var(--bg-2), var(--bg-1));
    color:var(--white);
    overflow:hidden;
  }
  .wrap{
    position:relative;
    min-height:100dvh;
    display:grid;
    grid-template-rows: 1fr auto;
    place-items:center;
    padding: clamp(12px, 2.5vmin, 24px);
  }
  /* Subtle scanning glow */
  .scan{
    position:absolute; inset:-20vmax;
    background:
      radial-gradient(50% 30% at 50% -10%, color-mix(in oklab, var(--accent) 35%, transparent), transparent 60%),
      radial-gradient(40% 25% at 80% 110%, color-mix(in oklab, var(--accent-2) 30%, transparent), transparent 60%);
    filter: blur(60px) saturate(120%);
    animation: drift 24s linear infinite;
    pointer-events:none;
  }
  @keyframes drift{
    0%{transform:translate3d(0,0,0) rotate(0)}
    50%{transform:translate3d(2%, -1%, 0) rotate(180deg)}
    100%{transform:translate3d(0,0,0) rotate(360deg)}
  }

  .stage{
    width:min(92vw, 980px);
    display:grid;
    gap:clamp(20px,2.5vmin,28px);
    grid-template-columns: 1.2fr .9fr;
    align-items:center;
  }
  @media (max-width: 880px){
    .stage{ grid-template-columns: 1fr; }
  }

  /* Chessboard */
  .board{
    --size:min(80vmin, 600px);
    width:var(--size);
    aspect-ratio:1;
    margin-inline:auto;
    display:grid;
    grid-template-columns: repeat(8, 1fr);
    grid-template-rows: repeat(8, 1fr);
    border-radius: 18px;
    box-shadow: 0 0 0 2px color-mix(in oklab, var(--accent) 35%, transparent),
                0 20px 60px rgba(0,0,0,.45),
                inset 0 0 0 1px rgba(255,255,255,.06);
    overflow:hidden;
    position:relative;
    background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0) 30%);
    isolation:isolate;
  }
  .sq{
    background: var(--shade);
    display:grid; place-items:center;
    transform: translateY(20px) scale(.98);
    opacity:0;
    animation: pop .9s cubic-bezier(.2,.8,.2,1) forwards;
  }
  .sq.dark{ background: color-mix(in oklab, var(--black) 84%, var(--shade)); }
  @keyframes pop{
    to{ transform: translateY(0) scale(1); opacity:1; }
  }
  /* stagger squares */
  .sq{ animation-delay: calc((var(--r) * 8 + var(--c)) * 16ms); }

  /* Logo / copy block */
  .hero{
    display:grid;
    gap: clamp(10px, 1.2vmin, 16px);
    text-align:left;
  }
  .brand{
    display:flex; align-items:center; gap:14px;
  }
  .brand svg{
    width: clamp(52px, 7.5vmin, 86px);
    height:auto;
    filter: drop-shadow(0 8px 18px rgba(0,0,0,.45));
  }

  .title{
    font-size: clamp(32px, 6.2vmin, 72px);
    line-height: .98;
    font-weight: 800;
    letter-spacing: .02em;
    background: linear-gradient(90deg, var(--gold-2), var(--gold), var(--accent));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
  .subtitle{
    font-size: clamp(14px, 2.6vmin, 18px);
    color: color-mix(in oklab, var(--white) 85%, rgba(255,255,255,.5));
    max-width: 52ch;
  }
  .cta{
    display:flex; gap:12px; flex-wrap:wrap; margin-top:6px;
  }
  .btn{
    padding: 12px 16px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,.12);
    background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
    color: var(--white);
    text-decoration:none;
    font-weight:600;
    backdrop-filter: blur(6px);
    transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
  }
  .btn:focus-visible{ outline: 2px solid var(--accent); outline-offset:2px; }
  .btn:hover{ transform: translateY(-1px); box-shadow: 0 8px 24px rgba(0,0,0,.35); border-color: rgba(255,255,255,.25); }
  .btn.primary{
    border-color: color-mix(in oklab, var(--accent) 60%, transparent);
    box-shadow: 0 8px 28px color-mix(in oklab, var(--accent) 28%, transparent);
  }

  /* Subtle piece shadows moving */
  .pieces{
    position:absolute; inset:0; pointer-events:none; z-index:2;
  }
  .piece{
    position:absolute;
    width:12.5%; aspect-ratio:1;
    display:grid; place-items:center;
    opacity:.95;
    transition: transform .8s cubic-bezier(.2,.8,.2,1);
    filter: drop-shadow(0 10px 22px rgba(0,0,0,.55));
  }
  .piece svg{ width: 70%; height:auto; }

  /* Accessibility: reduce motion */
  @media (prefers-reduced-motion: reduce){
    .scan, .sq{ animation: none !important; opacity:1; transform:none; }
    .piece{ transition:none; }
  }

  footer{
    width:100%; text-align:center; font-size:12px; opacity:.7; padding: 10px 0 6px;
  }
</style>
</head>
<body>
<div class="wrap">
  <div class="scan" aria-hidden="true"></div>

  <div class="stage" role="presentation">
    <div class="board" id="board" aria-label="Animated chessboard">
      <!-- 64 squares -->
      <!-- generated by JS as well, but include as base for no-JS -->
      <script>
        // Progressive enhancement: build the grid if JS runs.
        (function(){
          const b = document.currentScript.parentElement;
          if(!b) return;
          b.innerHTML = "";
          for(let r=0;r<8;r++){
            for(let c=0;c<8;c++){
              const sq = document.createElement('div');
              sq.className = "sq" + (((r+c)&1) ? " dark" : "");
              sq.style.setProperty('--r', r);
              sq.style.setProperty('--c', c);
              b.appendChild(sq);
            }
          }
          // Piece layer
          const layer = document.createElement('div');
          layer.className = "pieces";
          b.appendChild(layer);
          const pcs = [
            {id:'k', svg: kingSVG(),  pos:[4,7]}, // white king start visual
            {id:'q', svg: queenSVG(), pos:[3,7]},
            {id:'n', svg: knightSVG(),pos:[1,7]},
            {id:'b', svg: bishopSVG(),pos:[2,7]}
          ];
          pcs.forEach(p=>{
            const el = document.createElement('div');
            el.className = 'piece';
            el.innerHTML = p.svg;
            layer.appendChild(el);
            p.el = el;
          });
          function place(p,[c,r]){
            p.el.style.transform = `translate(${c*12.5}%, ${r*12.5}%)`;
          }
          pcs.forEach(p=>place(p,p.pos));
          // Ambient showcase moves (looping, not chess-legal demo moves)
          const seq = [
            // [pieceIndex, toCol, toRow, delayMs]
            [2,2,5, 900],
            [0,4,6, 950],
            [1,3,6, 850],
            [3,4,5, 800],
            [2,3,3, 900],
            [0,5,5, 900],
            [1,2,5, 900],
            [3,5,3, 900],
            [2,4,2, 900],
            [0,6,4, 900],
            [1,1,4, 900],
            [3,6,2, 900],
            [2,5,1, 900],
            [0,6,3, 900],
            [1,2,4, 900],
            [3,4,4, 900],
          ];
          let i=0;
          function step(){
            const [pi, c, r, d] = seq[i%seq.length];
            place(pcs[pi], [c,r]);
            i++;
            window.setTimeout(step, d);
          }
          setTimeout(step, 1200);

          // Utility: SVG factories with clear stroke outline (for visibility on any theme)
          function basePiece(path, crown=false){
            return `
            <svg viewBox="0 0 100 100" aria-hidden="true">
              <defs>
                <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="${getComputedStyle(document.documentElement).getPropertyValue('--gold-2')||'#f8d37c'}"/>
                  <stop offset="100%" stop-color="${getComputedStyle(document.documentElement).getPropertyValue('--gold')||'#c9a04f'}"/>
                </linearGradient>
              </defs>
              <g fill="url(#g)" stroke="black" stroke-opacity=".75" stroke-width="2.2">
                ${path}
              </g>
              ${crown ? `<g fill="none" stroke="white" stroke-width="2.2" opacity=".9">
                 <path d="M20 26 L28 14 L38 26 L50 14 L62 26 L72 14 L80 26" />
              </g>`:''}
            </svg>`;
          }
          function kingSVG(){
            return basePiece(`<path d="M48 16 h4 v8 h8 v6 h-8 v6 h-4 v-6 h-8 v-6 h8 z"/>
                              <path d="M40 38 h20 l-2 8 h-16 z"/>
                              <path d="M34 48 h32 c4 0 6 8 6 12 v2 h-44 v-2 c0-4 2-12 6-12z"/>
                              <path d="M24 70 h52 v6 H24z"/>
                              <circle cx="50" cy="30" r="1.6"/>`, true);
          }
          function queenSVG(){
            return basePiece(`<path d="M28 62 c16 -22 28 -22 44 0 v4 H28z"/>
                              <circle cx="22" cy="30" r="4"/>
                              <circle cx="36" cy="24" r="4"/>
                              <circle cx="50" cy="22" r="4"/>
                              <circle cx="64" cy="24" r="4"/>
                              <circle cx="78" cy="30" r="4"/>
                              <path d="M26 66 h48 v6 H26z"/>`);
          }
          function knightSVG(){
            return basePiece(`<path d="M64 24 c-10 0-18 8-22 16 l-10 -6 -6 8 12 8 c-4 10 -6 18 -6 24 h36 c4 -6 6 -12 6 -18 0 -18 -10 -32 -10 -32 z"/>`);
          }
          function bishopSVG(){
            return basePiece(`<path d="M50 18 a10 10 0 1 1 -0.01 0"/>
                              <path d="M36 40 c8 -10 20 -10 28 0 v6 h-28 z"/>
                              <path d="M32 58 h36 v6 H32z"/>`);
          }
        })();
      </script>
    </div>

    <div class="hero" aria-live="polite">
      <div class="brand">
        <!-- Outline crown ensured -->
        <svg viewBox="0 0 120 120" role="img" aria-label="Chess emblem">
          <defs>
            <radialGradient id="lg" cx="40%" cy="30%" r="80%">
              <stop offset="0%" stop-color="var(--gold-2)"/>
              <stop offset="100%" stop-color="var(--gold)"/>
            </radialGradient>
          </defs>
          <g fill="url(#lg)" stroke="black" stroke-opacity=".8" stroke-width="2.2">
            <rect x="36" y="70" width="48" height="14" rx="4"/>
            <path d="M48 30 h24 v8 h-24z"/>
            <path d="M44 38 h32 l-4 10 h-24z"/>
            <path d="M40 48 h40 c6 0 9 10 9 16 v4 H31 v-4 c0-6 3-16 9-16z"/>
          </g>
          <!-- bright crown outline to always be visible -->
          <g fill="none" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
            <path d="M30 26 L42 14 L54 26 L66 14 L78 26 L90 14 L102 26"/>
          </g>
        </svg>
        <div class="title">CHESS</div>
      </div>
      <div class="subtitle">
        Strategic vibes, neon-to-gold glamour. A sleek intro screen you can drop into any repo as <code>index.html</code> — fast, responsive, and legible. Pieces shimmer with clear outlines so the crown is always visible.
      </div>
      <div class="cta">
        <a class="btn primary" href="#board">View Board</a>
        <a class="btn" id="toggleTheme" href="#" role="button" aria-pressed="false">Toggle Neon / Gold</a>
        <a class="btn" id="dl" download="chess-intro.png" href="#">Export PNG</a>
      </div>
    </div>
  </div>

  <footer>
    <span>© Chess Intro · Single‑file animation · <span id="year"></span></span>
  </footer>
</div>

<script>
  // Theme toggle: swap between neon and gold emphasis by flipping CSS vars
  (function(){
    const btn = document.getElementById('toggleTheme');
    let neon = true;
    btn.addEventListener('click', function(e){
      e.preventDefault();
      neon = !neon;
      document.body.style.setProperty('--accent', neon ? '#00d0ff' : '#f8d37c');
      document.body.style.setProperty('--accent-2', neon ? '#ff4df2' : '#c9a04f');
      btn.setAttribute('aria-pressed', String(!neon));
    });
  })();

  // Quick client-side "screenshot" export: render board area to a canvas using SVG serialization (simplified)
  (function(){
    const a = document.getElementById('dl');
    a.addEventListener('click', function(e){
      e.preventDefault();
      const node = document.querySelector('.stage');
      const r = node.getBoundingClientRect();
      const canvas = document.createElement('canvas');
      const scale = window.devicePixelRatio || 1;
      canvas.width = Math.floor(r.width*scale);
      canvas.height = Math.floor(r.height*scale);
      const ctx = canvas.getContext('2d');
      ctx.scale(scale, scale);
      // Background
      const bg = getComputedStyle(document.body).backgroundImage;
      ctx.fillStyle = '#0a0b10';
      ctx.fillRect(0,0,canvas.width,canvas.height);
      // Draw a simple DOM snapshot: we rasterize the stage as SVG via foreignObject
      const data = new XMLSerializer().serializeToString(domToSVG(node));
      const img = new Image();
      img.onload = function(){
        ctx.drawImage(img,0,0);
        a.href = canvas.toDataURL('image/png');
        a.click();
      };
      img.src = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(data);
      function domToSVG(el){
        const clone = el.cloneNode(true);
        inlineStyles(el, clone);
        const w = Math.ceil(r.width);
        const h = Math.ceil(r.height);
        const svg = document.createElementNS('http://www.w3.org/2000/svg','svg');
        svg.setAttribute('xmlns','http://www.w3.org/2000/svg');
        svg.setAttribute('width', w);
        svg.setAttribute('height', h);
        const fo = document.createElementNS('http://www.w3.org/2000/svg','foreignObject');
        fo.setAttribute('width', '100%');
        fo.setAttribute('height', '100%');
        fo.appendChild(clone);
        svg.appendChild(fo);
        return svg;
      }
      function inlineStyles(src, tgt){
        const srcNodes = src.querySelectorAll('*');
        const tgtNodes = tgt.querySelectorAll('*');
        for(let i=0;i<srcNodes.length;i++){
          const cs = getComputedStyle(srcNodes[i]);
          const style = Array.from(cs).map(k=>`${k}:${cs.getPropertyValue(k)}`).join(';');
          tgtNodes[i].setAttribute('style', style);
        }
      }
    });
  })();

  // Year
  document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>
